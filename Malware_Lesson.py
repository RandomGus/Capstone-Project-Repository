#Level 02
# This file will be used as a way to load up the second level,

import pygame
import sys
from Malware_Minigames import minigame01
from Malware_Minigames import minigame02
from Malware_Minigames import minigame03

# Needs to be set up as a separate definition in order to be able to import it into the Main Menu file. 
def Set_Up_Lesson_Screen(screen):

    # The following flags will be used to differentiate between the different stages that will be used for the lesson. 
    malware_types_lesson = True
    malware_finding_and_solving = False
    malware_avoiding = False
    display_malware_lesson_settings = False

    # The first screen that the player will be presented with two buttons that will allow the player to choose between the games or the lessons.
    font_malware = pygame.font.Font("Source_Code_Pro/static/SourceCodePro-Regular.ttf", 35)
    
    start_lesson_rectangle = pygame.Rect(225, 150, 400, 100)
    start_minigames_rectangle = pygame.Rect(225, 300, 400, 100)

    settings_button = pygame.image.load("Icons_or_Images\setting.png")
    settings_button_rectangle = pygame.Rect(700, 25, 64, 64)

    # The FOLLOWING will be temporary text.
    temporary_text_font = pygame.font.Font("Source_Code_Pro/static/SourceCodePro-Regular.ttf", 50)
    temporary_text = temporary_text_font.render("Work In Progress", True, (255, 255, 255))
    temporary_text_coordinates = temporary_text.get_rect(center=(400, 300))
    # This is the END of the temporary text.

    running = True
    while running:

        screen.fill((0, 0, 0))

        start_malware_lesson_text = font_malware.render("Start Lesson", True, (0, 0, 0))
        start_malware_games_text = font_malware.render("Start Minigames", True, (0, 0, 0))
        start_malware_lesson__text_coordinates = start_malware_lesson_text.get_rect(center=(425, 200))
        start_malware_games_text_coordinates = start_malware_games_text.get_rect(center=(425, 350))

        pygame.draw.rect(screen, (255, 255, 255), start_lesson_rectangle, 0)
        pygame.draw.rect(screen, (255, 255, 255), start_minigames_rectangle, 0)

        mouse_position = pygame.mouse.get_pos()

        for event in pygame.event.get():
            if event.type == pygame.QUIT:
                running = False
                # This will make it so that both windows quit instead of just the singular window. 
                pygame.quit()
                sys.exit()
            if event.type == pygame.MOUSEBUTTONDOWN:
                print("The Mouse Button has been Clicked")
                if pygame.mouse.get_pressed()[0]:
                    print("The Left Mouse Button has been Clicked")
                    print(mouse_position)
                    if start_lesson_rectangle.collidepoint(mouse_position):
                        print("The Start Lesson Button has been Selected!")
                    if start_minigames_rectangle.collidepoint(mouse_position):
                        print("The Start Minigames Button has been Selected!")
                        minigame01(screen)
                    if settings_button_rectangle.collidepoint(mouse_position):
                        pass
                        display_malware_lesson_settings = True
                
        screen.blit(start_malware_lesson_text, start_malware_lesson__text_coordinates)
        screen.blit(start_malware_games_text, start_malware_games_text_coordinates)
        screen.blit(settings_button, (700, 25))

        if display_malware_lesson_settings == True:
            screen.fill((0, 0, 0))
            screen.blit(temporary_text, temporary_text_coordinates)

        pygame.display.update()